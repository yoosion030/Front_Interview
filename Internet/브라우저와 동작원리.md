# 😱브라우저와 동작원리

웹 브라우저가 웹 서버에 웹 페이지 요청을 하면 웹 서버는 웹 페이지 응답을 합니다. 서버가 브라우저에게 전달한 응답인 HTML문서를 브라우저는 읽어들이고 해석한 후 사용자에게 보여줍니다.

## 😱웹 브라우저의 구조
![](https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png)

1. 사용자 인터페이스(UI) : 요청한 페이지를 보여주는 창을 제외한 나머지 모든 것
2. 브라우저 엔진 : 사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어
3. 렌더링 엔진 : 요청한 콘텐츠를 표시 ( ex : HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시함 )
4. 통신 : HTTP 요청과 같은 네트워크 호출에 사용됨, 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행됨
5. UI 백엔드 : 콤보 박스와 창 같은 기본적인 장치를 그림. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS사용자 인터페이스 체계를 사용.
6. 자바스크립트 해석기 : 자바스크립트 코드를 해석하고 실행
7. 자료 저장소 : 자료를 저장하는 계층


## 😱렌더링 엔진
렌더링 엔진의 역할은 요청 받은 내용을 브라우저 화면에 표시하는 일입니다. 렌더링 HTML문서와 이미지를 표시할 수 있습니다. 

**동작 과정**

![](https://d2.naver.com/content/images/2015/06/helloworld-59361-2.png)  

**렌더링 엔진**은 HTML문서를 파싱하고 "콘텐츠 트리" 내부에서 태그를 DOM노드로 변환 시킵니다. 그 다음 외부 CSS 파일과 함께 포함된 스타일 요소도 파싱합니다. 스타일 정보와 HMTL표시 규칙은 "렌더 트리"라고 부르는 또 다른 트리를 생성합니다.

**렌더트리**는 시각적 속성이 있는 사각형을 포함하고 있는데 정해진 순서대로 화면에 표시합니다.

렌더 트리 생성이 끝나면 **배치**가 시작되는데 이것은 각 노드가 화면의 정확한 위치에 표시되는 것을 의미합니다.

렌더링 엔진은 내용을 표시하는데 모든 HTML을 파싱할 때까지 기다리지 않고 배치와 그리기 과정을 시작합니다. 네트워크로부터 나머지 내용이 전송되기를 기다리는 동시에 받은 내용의 일부를 먼저 화면에 표시하는 것입니다.

**동작 과정 예**

![](https://d2.naver.com/content/images/2015/06/helloworld-59361-3.png)

## 😱파싱과 DOM트리 구축

**파싱이란?**
파싱은 브라우저가 코드를 이해하고 사용할 수 있는 구조로 변환하는 것을 의미합니다. 

ex ) 2 + 3 - 1을 파싱한 트리 노드

![](https://d2.naver.com/content/images/2015/06/helloworld-59361-5.png)

파싱은 문서에 작성된 언어 또는 형식의 규칙에 따르는데 파싱할 수 있는 모든 형식은 정해진 용어와 구문 규칙에 따라야합니다. 인간의 언어는 이런 모습과 다르기 때문에 기계적으로 파싱이 불가능합니다.









`참고자료`
> [송씨가 알려주신 사이트 - 브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)