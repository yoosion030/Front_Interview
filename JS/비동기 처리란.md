# ë¹„ë™ê¸° ì²˜ë¦¬ë€ ?

íŠ¹ì • ì½”ë“œì˜ ì—°ì‚°ì´ ëë‚  ë•Œê¹Œì§€ ì½”ë“œì˜ ì‹¤í–‰ì„ ë©ˆì¶”ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ëŠ” ìë°”ìŠ¤íŠ¸ë¦½íŠ¸ì˜ íŠ¹ì •ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

![](https://i.imgur.com/hh3Mawr.png)

## ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ì‚¬ë¡€ë“¤

1. jQueryì˜ ajax

```JS
function getData() {
  var tableData
  $.get('https://domain.com/products/1', function (response) {
    tableData = response
  })
  return tableData
}

console.log(getData()) // undefined
```

**ê²°ê³¼ê°€ ì™œ undefined ì¼ê¹Œ?**
ê·¸ ì´ìœ ëŠ” `$.get()`ë¡œ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³  ë°›ì•„ì˜¬ ë•Œê¹Œì§€ **ê¸°ë‹¤ë ¤ì£¼ì§€ ì•Šê³ **
ë‹¤ìŒ ì½”ë“œì¸ return tableData;ë¥¼ ì‹¤í–‰í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ë”°ë¼ì„œ,**getData()ì˜ ê²°ê³¼ ê°’ì€ ì´ˆê¸° ê°’ì„ ì„¤ì •í•˜ì§€ ì•Šì€ tableDataì˜ ê°’ undefinedë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.**

2. setTimeout()
   > ì½”ë“œë¥¼ ë°”ë¡œ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì§€ì •í•œ ì‹œê°„ë§Œí¼ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë¡œì§ì„ ì‹¤í–‰í•˜ëŠ” Web APIì˜ í•œ ì¢…ë¥˜

```JS
   // #1
console.log('Hello');
// #2
setTimeout(function() {
	console.log('Bye');
}, 3000);
// #3
console.log('Hello Again');
```

**ì˜ˆìƒ ê²°ê³¼ê°’**

1. 'Hello' ì¶œë ¥
2. 3ì´ˆ ìˆë‹¤ê°€ 'Bye' ì¶œë ¥
3. ë§ˆì§€ë§‰ìœ¼ë¡œ 'Hello Again'ì¶œë ¥

**ì‹¤ì œ ê²°ê³¼ê°’**

1. 'Hello' ì¶œë ¥
2. 'Hello Again'ì¶œë ¥
3. ë§ˆì§€ë§‰ìœ¼ë¡œ 3ì´ˆ ìˆë‹¤ê°€ 'Bye' ì¶œë ¥

---

ì¼ë‹¨ setTimeout()ì„ ì‹¤í–‰í•˜ê³  ë‚˜ì„œ ë°”ë¡œ ë‹¤ìŒ ì½”ë“œì¸ console.log('Hello Again');ìœ¼ë¡œ ë„˜ì–´ê°”ê¸° ë•Œë¬¸ì— â€˜Helloâ€™, â€˜Hello Againâ€™ë¥¼ ë¨¼ì € ì¶œë ¥í•˜ê³  3ì´ˆê°€ ì§€ë‚˜ë©´ â€˜Byeâ€™ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

## â­ì½œë°±í•¨ìˆ˜â­

ì½œë°±í•¨ìˆ˜ë¥¼ ì´ìš©í•œë‹¤ë©´ ì•ì—ì„œë‚˜ì˜¨ ë¹„ë™ê¸° ì²˜ë¦¬ë°©ì‹ì˜ ë¬¸ì œì ë“¤ì„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. jQueryì˜ ajax

```JS
function getData(callbackFunc) {
	$.get('https://domain.com/products/1', function(response) {
		callbackFunc(response); // ì„œë²„ì—ì„œ ë°›ì€ ë°ì´í„° responseë¥¼ callbackFunc() í•¨ìˆ˜ì— ë„˜ê²¨ì¤Œ
	});
}

getData(function(tableData) {
	console.log(tableData); // $.get()ì˜ response ê°’ì´ tableDataì— ì „ë‹¬ë¨
});
```

## ì½œë°± ì§€ì˜¥ğŸ˜±

ì½œë°± ì§€ì˜¥ì€ ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì„ ìœ„í•´ ì½œë°± í•¨ìˆ˜ë¥¼ ì—°ì†í•´ì„œ ì‚¬ìš©í•  ë•Œ ë°œìƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

```JS
$.get('url',function(response){
  parseValue(response,function(id){
    auth(id,function(result){
      display(result, function(text){
        console.log(text)
      });
    });
  });
});
```

### í•´ê²° ë°©ë²•

ì¼ë°˜ì ìœ¼ë¡œ ì½œë°± ì§€ì˜¥ì„ í•´ê²°í•˜ëŠ” ë°©ë²•ì—ëŠ” **Promise**ë‚˜ **Async**ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ì½”ë”© íŒ¨í„´ìœ¼ë¡œë§Œ ì½œë°± ì§€ì˜¥ì„ í•´ê²°í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ê° ì½œë°± í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤.

```JS
function parseVaule(id){
  auth(id, authDone);
}
function authDone(result) {
  display(result, displayDone);
}
function displayDone(text) {
  console.log(text);
}
$.get('url', function(response){
  parseValue(response, parseValueDone);
});
```

ì¤‘ì²©í•´ì„œ ì„ ì–¸í–ˆë˜ ì½œë°± ìµëª… í•¨ìˆ˜ë¥¼ ê°ê°ì˜ í•¨ìˆ˜ë¡œ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤. ë¨¼ì € `ajax` í†µì‹ ìœ¼ë¡œ ë°›ì€ ë°ì´í„°ë¥¼ `parseValue()`ë©”ì„œë“œë¡œ íŒŒì‹±í•©ë‹ˆë‹¤. `parseValueDone()`ì—ì„œ íŒŒì‹±í•œ ê²°ê³¼ ê°’ì¸ `id`ê°€ ì „ë‹¬ë˜ê³  `auth()`ë©”ì„œë“œê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. `auth()`ë©”ì„œë“œë¡œ ì¸ì¦ì„ ê±°ì¹˜ê³  ë‚˜ë©´ ì½œë°±í•¨ìˆ˜ `authDone()`ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. ì¸ì¦ ê²°ê³¼ ê°’ì¸ `result`ë¡œ `display()`ë¥¼ í˜¸ì¶œí•˜ë©´ ë§ˆì§€ë§‰ìœ¼ë¡œ `displayDone()`ë©”ì„œë“œê°€ ìˆ˜í–‰ë˜ë©´ì„œ `text`ê°€ ì½˜ì†”ì— ì¶œë ¥ë©ë‹ˆë‹¤.

`ì°¸ê³ ìë£Œ`

> [ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì™€ ì½œë°± í•¨ìˆ˜](https://joshua1988.github.io/web-development/javascript/javascript-asynchronous-operation/)
